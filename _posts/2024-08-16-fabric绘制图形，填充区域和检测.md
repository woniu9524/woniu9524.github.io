---
layout: post
title: fabric绘制图形，填充区域和检测
tags: [java]
---

> fabric绘图，区域填充，图形属性获取

### 需求背景

    需要对老鼠行为进行分析，例如老鼠在视频中的哪些区域范围活动。所以需要用fabric在视频上增加一个画布，然后在画布上进行分区。根据老鼠坐标变化来确认当前老鼠在画布中的位置。

![image](https://github.com/user-attachments/assets/1a013118-bbdb-40dd-ace1-2db4795f0b67)

### 遇到的一些问题
- fabric应该是不提供填充功能的，我记得之前看issue有人提过，但是作者说不提供这个功能，所以要自己实现。我是先通过洪水填充的办法在画布上用canvas绘制填充区域，然后把它作为图片添加到fabric画布上。
- 解析fabric的时候自定义属性不能被序列化。因为要给填充区域设置标题，还有圆形矩形比例尺啊这些设置名称，我需自定义一些名称。issue里面有解决方案
